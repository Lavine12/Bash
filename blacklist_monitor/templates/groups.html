{% extends 'base.html' %}
{% block content %}
<h1>Groups</h1>
<form method="post">
    <input type="text" name="group" placeholder="Group name" required>
    <input type="submit" value="Add">
</form>
<form method="post" action="{{ url_for('delete_selected_groups') }}">
    <button type="submit">Delete Selected</button>
    <table>
        <tr><th><input type="checkbox" onclick="toggleAll(this)"></th><th>Group</th></tr>
        {% for g in groups %}
        <tr>
            <td><input type="checkbox" name="group_id" value="{{ g[0] }}"></td>
            <td>{{ g[1] }}</td>
        </tr>
        {% endfor %}
    </table>
</form>
<script>
function toggleAll(src){var tbl=src.closest('table');if(!tbl)return;var boxes=tbl.querySelectorAll('input[type="checkbox"][name="group_id"]');boxes.forEach(function(cb){cb.checked=src.checked;});}
</script>
{% endblock %}
